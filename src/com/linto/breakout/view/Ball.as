/*@author : linto (lintoka123@gmail.com)*/package com.linto.breakout.view  {		import flash.display.Sprite;	import flash.events.Event;	import flash.display.Stage;		import com.linto.breakout.model.Model;		public class Ball extends Sprite{				public static var DECREMENT_LIFE:String = "decrementLife";				private var dir:Number;		private var speed:Number;		public var xspeed:Number;		public var yspeed:Number;				private var viewRef:GameView;		private var ballMc:BallMc;		private var stageRef:Stage;		public function Ball(viewRef:GameView, stageRef:Stage) {			this.stageRef = stageRef;			this.viewRef = viewRef;		}				public function startBall():void{			this.attachBall();			this.initValues();			this.addEventListener(Event.ENTER_FRAME, this.onBallAdded);		}				private function attachBall():void{			this.ballMc = new BallMc();			this.addChild(this.ballMc);		}				private function initValues():void{			this.dir = Math.round(Math.random() * 1);			this.speed = 12;			var angle:Number = (this.dir == 1) ? 45 : 135;						this.xspeed = Math.round(this.speed * Math.cos((angle) * Math.PI / 180));			this.yspeed = Math.round(this.speed * Math.sin((angle) * Math.PI / 180));		}				private function onBallAdded(evt:Event):void {						this.x += this.xspeed;			this.y += this.yspeed;						if ((this.x <= Model.BALL_RADIUS) || (this.x >= (this.stageRef.stageWidth - Model.BALL_RADIUS))) {				this.xspeed = -this.xspeed;			}						if ((this.y <= Model.BALL_RADIUS) || (this.viewRef.paddle.hitTestObject(this))) {				this.yspeed = -this.yspeed;			}  							if (this.y > this.stageRef.stageHeight + 50) {								this.dispatchEvent(new Event(Ball.DECREMENT_LIFE));								this.x = this.stageRef.stageWidth/2 + 5;				this.y = 150;								this.initValues();			}		}	}	}